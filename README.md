# MyHomeProject

## Описание:
IT-отдел крупного банка делает новую фичу для личного кабинета клиента. Это виджет, который показывает несколько последних успешных банковских операций клиента. 

## Статус разработки:
В разработке.

## Установка:
1.	Клонируйте репозиторий https://github.com/SeetanaMarata/MyHomeProject.git
2.	Установите зависимости

```pip install -r requirements.txt```

## Реализованный функционал:
Функция маскировки номера банковской карты 
get_mask_card_number
Функция маскировки номера банковского счета 
get_mask_account

Функция mask_account_card, которая умеет обрабатывать информацию как о картах, так и о счетах

Функция get_date, которая принимает на вход строку с датой в формате 
"2024-03-11T02:26:18.671407" и возвращает строку с датой в формате 
"ДД.ММ.ГГГГ"("11.03.2024").

Функция sort_by_date, которая принимает список словарей и необязательный параметр, задающий порядок сортировки (по умолчанию — убывание). Функция должна возвращать новый список, отсортированный по дате (date).

# Тестирование:
Написаны тесты для существующих функций проекта
## Модуль masks
### Функция get_mask_card_number:
1. Тестирование правильности маскирования номера карты.
2. Проверена работа функции на различных входных форматах номеров карт, включая граничные случаи и нестандартные длины номеров.
3. Проверено, что функция корректно обрабатывает входные строки, где отсутствует номер карты.

### Функция get_mask_account:
1. Протестирована правильность маскирования номера счета.
2. Проверена работа функции с различными форматами и длинами номеров счетов.
3. Проверено, что функция корректно обрабатывает входные данные, где номер счета меньше ожидаемой длины.

## Модуль widget
### Функция mask_account_card:
1. Созданы тесты для проверки, что функция корректно распознает и применяет нужный тип маскировки в зависимости от типа входных данных (карта или счет).
2. Созданы параметризованные тесты с разными типами карт и счетов для проверки универсальности функции.
3. Тестируются функции на обработку некорректных входных данных и проверяются ее устойчивости к ошибкам.

### Функция get_date:
1. Тестируются правильности преобразования даты.
2. Осуществлена проверка работы функции на различных входных форматах даты, включая граничные случаи и нестандартные строки с датами.
3. Проверяется, что функция корректно обрабатывает входные строки, где отсутствует дата.

## Модуль processing
### Функция filter_by_state:
1. Произведено тестирование фильтрации списка словарей по заданному статусу state.
2. Проверена работа функции при отсутствии словарей с указанным статусом state в списке.
3. Есть параметризация тестов для различных возможных значений статуса state.

### Функция sort_by_date:
1. Протестирована сортировка списка словарей по датам в порядке убывания и возрастания.
2. Проверена корректность сортировки при одинаковых датах.
3. Включены тесты на работу функции с некорректными или нестандартными форматами дат.

# Примеры использования:
## Модуль generators
### 1. Фильтрация транзакций по валюте
from generators import filter_by_currency

usd_transactions = filter_by_currency(transactions, "USD")
print(next(usd_transactions))  # Первая USD-транзакция
print(next(usd_transactions))  # Вторая USD-транзакция
### 2. Получение описаний транзакций
from generators import transaction_descriptions

descriptions = transaction_descriptions(transactions)
for _ in range(3):
    print(next(descriptions))
### 3. Генерация номеров карт
from generators import card_number_generator

for card_number in card_number_generator(1, 5):
    print(card_number)
##### 0000 0000 0000 0001
##### 0000 0000 0000 0002
##### ... до 0000 0000 0000 0005

## Ключевые особенности:
Работа с большими объемами данных через генераторы

Эффективное использование памяти

Простота интеграции в существующие проекты

### Пояснения:
1. **filter_by_currency**:
   - Проверяет вложенную структуру транзакции (`operationAmount.currency.code`)
   - Возвращает только транзакции с совпадающей валютой
   - Корректно обрабатывает пустые списки и отсутствующие данные

2. **transaction_descriptions**:
   - Извлекает поле "description" из каждой транзакции
   - Работает с любым количеством транзакций

3. **card_number_generator**:
   - Форматирует числа в 16-значные строки с ведущими нулями
   - Разбивает на группы по 4 цифры
   - Поддерживает весь диапазон (1-9999999999999999)

### Тесты обеспечивают:
- Покрытие всех сценариев использования
- Проверку граничных условий
- Обработку пустых входных данных
- Параметризованные тесты для генератора карт
